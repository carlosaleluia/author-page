---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

const books = (await getCollection('blog')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---

<BaseLayout title="Carlos Aleluia">
	<style>
		.hero {
			padding: 0;
			margin-bottom: 5rem;
			overflow: hidden;
		}

		.hero-container {
			max-width: 1400px;
			margin: 0 auto;
			display: flex;
			align-items: stretch;
			min-height: 600px;
			position: relative;
		}

		/* Bloco azul com texto */
		.hero-text {
			background: var(--accent-color);
			padding: 5rem 6rem 5rem 4rem;
			display: flex;
			flex-direction: column;
			justify-content: flex-start;
			flex: 0 0 55%; /* Ocupa 55% da largura */
			z-index: 1;
		}

		.hero-text h1 {
			font-size: 3.5rem;
			font-weight: 300;
			letter-spacing: -1px;
			margin-bottom: 2rem;
			line-height: 1.2;
			margin-top: 2rem;
		}

		.hero-text .bio {
			font-size: 1.1rem;
			line-height: 1.8;
			color: var(--text-primary);
		}

		/* Bloco da imagem - sobrepõe o azul */
		.hero-image {
			position: absolute;
			right: 0;
			top: 50%;
			transform: translateY(-50%);
			width: 50%;
			height: 85%;
			z-index: 2;
			box-shadow: -10px 10px 40px rgba(0,0,0,0.15);
		}

		.hero-image img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			display: block;
		}

		.books-section {
			padding: 0 0 5rem;
		}

		.section-title {
			font-size: 1.8rem;
			font-weight: 300;
			margin-bottom: 3rem;
			letter-spacing: -0.5px;
		}

		.books-grid {
			display: grid;
			gap: 3rem;
		}

		.book-card {
			padding-bottom: 3rem;
			border-bottom: 1px solid var(--border-color);
		}

		.book-card:last-child {
			border-bottom: none;
		}

		.book-card h2 {
			font-size: 2rem;
			font-weight: 400;
			margin-bottom: 0.75rem;
			letter-spacing: -0.5px;
		}

		.book-card h2 a {
			text-decoration: none;
			color: var(--text-primary);
			transition: color 0.2s;
		}

		.book-card h2 a:hover {
			color: var(--text-secondary);
		}

		.book-card .description {
			font-size: 1.05rem;
			line-height: 1.7;
			color: var(--text-secondary);
			margin-top: 1rem;
		}

		.view-all {
			display: inline-block;
			margin-top: 2rem;
			padding: 0.75rem 2rem;
			border: 1px solid var(--border-color);
			color: var(--text-primary);
			text-decoration: none;
			font-size: 0.95rem;
			transition: all 0.2s;
			letter-spacing: 0.5px;
		}

		.view-all:hover {
			background: var(--bg-hover);
			border-color: var(--text-primary);
		}

		/* Responsive */
		@media (max-width: 968px) {
			.hero-container {
				flex-direction: column;
				min-height: auto;
			}

			.hero-text {
				flex: 1;
				padding: 4rem 2rem;
			}

			.hero-text h1 {
				font-size: 2.8rem;
			}

			.hero-image {
				position: relative;
				width: 100%;
				height: 400px;
				top: auto;
				transform: none;
			}
		}

		@media (max-width: 768px) {
			.hero-text {
				padding: 3rem 1.5rem;
			}

			.hero-text h1 {
				font-size: 2.2rem;
				margin-top: 1rem;
			}

			.hero-image {
				height: 300px;
			}
		}
	</style>

	<section class="hero">
		<div class="hero-container">
			<div class="hero-text">
				<h1>Carlos Aleluia</h1>
				<div class="bio">
					<p>
						Carlos Aleluia é autor de [número] romances que exploram 
						as fronteiras do possível. Os seus livros têm sido publicados 
						em Portugal e traduzidos para [línguas]. Vive em [cidade].
					</p>
				</div>
			</div>
			<div class="hero-image">
				<img src="/perfil.jpg" alt="Carlos Aleluia" />
			</div>
		</div>
	</section>

	<div class="container">
		<section class="books-section">
			<h2 class="section-title">Obras Recentes</h2>
			<div class="books-grid">
				{books.slice(0, 3).map((book) => (
					<article class="book-card">
						<h2>
							<a href={`/livros/${book.slug}/`}>{book.data.title}</a>
						</h2>
						<p class="description">{book.data.description}</p>
					</article>
				))}
			</div>
			<a href="/livros" class="view-all">Ver Todas as Obras</a>
		</section>
	</div>
</BaseLayout>